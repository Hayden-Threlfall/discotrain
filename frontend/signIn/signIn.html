<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign In / Sign Up</title>
</head>
<body>
    <h1>Sign In / Sign Up</h1>
    
    <form id="signup-form">
        <h2>Sign Up</h2>
        <label for="signup-username">Username:</label>
        <input type="text" id="signup-username" required>
        <label for="signup-email">Email:</label>
        <input type="email" id="signup-email" required>
        <label for="signup-password">Password:</label>
        <input type="password" id="signup-password" required>
        <button type="submit">Sign Up</button>
    </form>

    <script>
        // Function to handle sign up form submission
        function signUp(event) {
            event.preventDefault(); // Prevent the form from submitting normally
            
            const username = document.getElementById('signup-username').value;
            const email = document.getElementById('signup-email').value;
            const password = document.getElementById('signup-password').value;

            // Make a request to kintone API to add user data
            fetch('"https://discotrain.kintone.com/k/v1/record.json?app=2&id=1"', {
                method: 'POST',
                headers: {
                    'X-Cybozu-API-Token': 'wh1m801Bj5MdB9BAuPvVryeiGuMmURNWlTiVXYZj',
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    records: [
                        {
                            'username': { value: username },
                            'email': { value: email },
                            'password': { value: password }
                        }
                    ]
                })
            })
            .then(response => response.json())
            .then(data => {
                console.log('User added successfully:', data);
                alert('User signed up successfully!');
                // Optionally, redirect the user to another page after sign up
                // window.location.href = 'signin.html';
            })
            .catch(error => {
                console.error('Error:', error);
                alert('An error occurred while signing up. Please try again later.');
            });
        }

        // Add event listener to sign up form
        document.getElementById('signup-form').addEventListener('submit', signUp);
    </script>
</body>
</html>
